{% extends 'base.html' %}

{% block content %}
    <body>
        <h3>Data View for {{ table_name }}</h3>
        <div>
            <table>
                <thead>
                    <tr>
                        {% for column in columns %}
                            <th>{{ column }}</th>
                        {% endfor %}
                        <th style="width: 70px;">Update</th>
                        <th style="width: 70px;">Delete</th>
                    </tr>
                </thead>
                <tbody>
                    {% for row in data %}
                        <tr>
                            {% for value in row %}
                                <td>{{ value }}</td>
                            {% endfor %}

                            <td><button class="update-btn">Update</button></td>
                            
                            <td>
                                {% if row.id %}
                                    <button class="delete-btn">
                                        <a href="{% url 'delete_row' table_name='table_name' row_id=row.id %}">Delete</a>
                                    </button>
                                {% else %}
                                    <button class="delete-btn">Delete</button>
                                {% endif %}
                            </td>

                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </body>

    <style>
        /* Hide overflow and enable scrolling for the table */
        table {
            width: 100%;
            border-collapse: collapse;
            overflow-x: auto; /* Enable horizontal scrolling */
            display: block; /* Enable overflow property */
        }
        
        /* Style table headers */
        th {
            background-color: #f2f2f2;
            text-align: left;
            padding: 8px;
        }
        
        /* Style table data cells */
        td {
            padding: 8px;
            border-bottom: 1px solid #ddd;
        }
        
        /* Set a maximum width for table cells */
        td, th {
            max-width: 200px; /* Adjust as needed */
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis; /* Display ellipsis for overflowing content */
        }

        /* Primary Update button styling */
        button.update-btn {
            background: linear-gradient(to right, #FB8B24, #E36414); /* Primary color */
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        
        /* Red Delete button styling */
        button.delete-btn {
            background-color: #dc3545; /* Red color */
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
    </style>
{% endblock %}